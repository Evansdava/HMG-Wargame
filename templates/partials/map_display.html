<!-- Editable name, meant to be used with a form -->
<h1 class="pt-3 pl-3"><input type="text" name="name" id="name" value="{{map.name}}"></h1>
<div class="pb-3 pl-3 text-muted"><small>Random names generated by Uzby API</small></div>
{% for hex in map.hexes %}
    <!-- Start a row when the hex has no ML neighbor -->
    {% if hex.ML == None %}
        <!-- The first hex of even rows has no TL neighbor -->
        {% if hex.TL == None %}
            <div class="hex-row">
        {% else %}
            <div class="hex-row even">
        {% endif %}
    {% endif %}
    <div class="hex">
        <!-- The color of each hex depends on what terrain it has.
        Jinja macros maintain DRY code-->
        {% macro color(key) -%}
            {% if key == "F" %}
                green
            {% elif key == "W" %}
                deepskyblue
            {% elif key == "R" %}
                orange
            {% elif key == "B" %}
                darkred
            {% elif key == "." %}
                lightgray
            {% elif key.name == "0" %}
                limegreen
            {% elif key.name == "1" %}
                red
            {% elif key.name == "2" %}
                gold
            {% elif key.name == "3" %}
                darkslateblue
            {% elif key.name == "4" %}
                hotpink
            {% elif key.name == "5" %}
                darkseagreen
            {% elif key.name == "6" %}
                teal
            {% elif key.name == "7" %}
                steelblue
            {% elif key.name == "8" %}
                burlywood
            {% elif key.name == "9" %}
                darkviolet
            {% elif key == None %}
                lightgray
            {% endif %}
        {%- endmacro %}
        <div class="top" style="--bg-color: {{color(hex.terrain)}};"></div>
        <div id="{{hex.id}}" class="middle" style="--bg-color: {{color(hex.owner)}};"></div>
        <div class="bottom" style="--bg-color: {{color(hex.terrain)}};"></div>
    </div>
    <!-- End a row when the hex has no MR neighbor -->
    {% if hex.MR == None %}
        </div>
        <br>
    {% endif %}
{% endfor %}